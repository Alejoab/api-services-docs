{
  "openapi": "3.0.0",
  "info": {
    "title": "Gateway",
    "version": "1.0",
    "license": {
      "name": "Privative"
    },
    "description": "Este servicio web y su arquitectura permite a cualquier aplicación conectarse a Placetopay para procesar tarjetas, independiente del lenguaje de desarrollo.\n\nPara usar el servicio web, deberás tener un lenguaje de programación que pueda comunicarse con un servicio REST.\n\nEl método de integración contempla las operaciones básicas para el procesamiento de tarjetas no presenciales, esto es tipos de crédito, intereses, generación de OTP, autorización, reverso.\n\nA continuación se describirán cada uno de los usos y los datos requeridos en la trama para cada uno de los casos.  La respuesta para cada operación está unificada en un solo tipo de trama resultante.\n\nPor defecto el lenguaje de las respuestas es en español, si se desea cambiar es necesario enviar el parámetro `locale` en las peticiones.\n\n### ¿Cómo funciona?\n\nSe trata de un proceso para realizar la transacción que involucra el consumo de los servicios descritos en este documento.\n\n1. Una vez se capture el número de tarjeta del usuario se realiza el consumo al servicio de información `informationRequest` enviándolo en la petición\n2. Se analiza la respuesta del servicio para disponer las opciones que siguen\n* Si la respuesta trae tipos de crédito `credits` se deben mostrar al usuario para permitirle seleccionar cual desea usar.\n* Si la respuesta tiene el parámetro “displayInterest” en true, se debe, una vez seleccionado un tipo de crédito, consumir el servicio de cálculo de intereses `interestCalculation` y mostrar al usuario la respuesta, así cada vez que el usuario cambie de tipo de crédito.\n* Si la respuesta trae el parámetro “requireOtp” en true, se debe hacer el consumo al servicio de generación de OTP (otpGeneration) y obtener del usuario el código que será de 6 dígitos para enviarlo posteriormente en el servicio de validación de OTP `otpValidate` una vez se tenga una respuesta se enviará el resultado signature bajo el campo OTP de la solicitud de procesamiento.\n3. Una vez se haya obtenido el tipo de crédito (si lo hay), el OTP (si se requiere) se consume el servicio de procesamiento de transacción `processTransaction` y se analiza la respuesta que puede ser final `aprobada, declinada o fallida` o que puede estar pendiente. En ambos casos se retornará un valor para internalReference que es muy importante almacenar porque le permitirá realizar consultas posteriores con el servicio `queryTransaction`.\n* Si se aprobó la transacción es importante almacenar también el número de autorización, le permitirá realizar reversos posteriormente si fuese necesario.\n* Generalmente las transacciones son culminadas en un tiempo corto (menos de 3 seg), pero si la transacción queda en estado pendiente es importante tener un cron job o similar que esté consultando cada 5 minutos por las transacciones pendientes hasta que se resuelvan.\n\n### ¿Cuándo es mejor usarlo?\n\n`Este mecanismo sólo debe ser usado por aquellos clientes de la plataforma que requieren capturar la información del tarjetahabiente incluyendo los datos sensibles`.\n\nLa integración se recomienda únicamente en los casos que no sea factible que el usuario realice la transacción ingresando los datos sensibles en PlacetoPay o en donde se requiere un control particular de la operación.\n\n Algunos ejemplos son:\n\n* Cobros recurrentes desde una base de datos propietaria.\n* Integración con un sistema de audiorespuesta.\n* Múltiples transacciones a diferentes recaudadores con la misma información del tarjetahabiente.\n* Interfaz móvil propietaria, no basada en HTML.\n* Integración con sistemas cuya entrada de los datos sensibles no la realice directamente el tarjetahabiente.\n\n### ¿Qué obligaciones tengo cuando uso esta integración? \n\nTenga en cuenta que al usar este tipo de integración, usted está suministrando todos los datos del comprador incluyendo los datos sensibles de la tarjeta, este solo hecho requiere que la captura de la información sea por un mecanismo seguro que no ponga en peligro los datos del tarjetahabiente.  Si la información la captura por una página Web, el punto donde se capturan estos datos debe estar sobre protocolo seguro HTTPS usando certificados de seguridad expedidos por una entidad certificadora acreditada.\n\nSi la captura la realiza por un Call Center, quien obtiene los datos sensibles debe ser un mecanismo de IVR `Interactive Voice Response` o audiorespuesta; esto implicaría un rompimiento en el proceso entre el proceso que realiza el operador con su CRM y el IVR quien captura los datos sensibles.  Finalmente el CRM consolida los dos conjuntos de datos y los remite a Place to Pay.\n\nSi la captura proviene de una base de datos de tarjetas previamente inscritas, asegúrese que esta información está encriptada por un mecanismo seguro de encriptación como AES o 3DES, desencripte solo en el momento en que construye la trama a ser enviada a Place to Pay. Place to Pay tiene servicios de tokenización que pueden ser usados.\n\nTenga en cuenta que como regla general usted no debe almacenar el número de tarjeta, fecha de vencimiento y CVV2.  Estos solo pueden tener persistencia durante la solicitud de la autorización, una vez procesada no deben ser almacenados.\n\nComo cualquier proceso de integración, este requerirá una certificación del personal de soporte de Place to Pay para revisar temas de funcionamiento, mejores prácticas y usabilidad.\n\n### Servicios\n\nTodos los consumos se realizan a la URL base, que será proporcionada por el área de operaciones y se le adiciona a dicha URL el endpoint del servicio a consumir.\n\nPor ejemplo si la URL base fuese https://placetopay.com para consumir el servicio se solicitud de información se realiza un POST con los datos del ejemplo a la URL https://placetopay.com/gateway/information",
    "contact": {
      "name": "Diego Calle",
      "email": "desarrollo@evertecinc.com"
    }
  },
  "servers": [
    {
      "url": "https://test.placetopay.com/rest/gateway",
      "description": "Pruebas Colombia"
    },
    {
      "url": "https://test.placetopay.ec/rest/gateway",
      "description": "Pruebas Ecuador"
    }
  ],
  "tags": [
    {
      "name": "Obtener información",
      "description": "Una vez se tengan los datos de la tarjeta permite determinar el flujo a seguir"
    },
    {
      "name": "Procesamiento de transacción",
      "description": "Diferentes formas de procesar una petición"
    },
    {
      "name": "Consulta de una transacción",
      "description": "Busqueda de información sobre una o más transacciones realizadas"
    },
    {
      "name": "Acciones sobre transacciones",
      "description": "Permite realizar operaciones como anulación, checkout, procesar una transacción manual"
    },
    {
      "name": "Tokenización de tarjetas",
      "description": "Permite almacenar de forma segura una tarjeta para realizar procesos de cobro automáticos posteriormente"
    },
    {
      "name": "Proceso OTP",
      "description": "Permite generar y posteriormente validar un One Time Password cuando se requiera"
    },
    {
      "name": "Reporte de operaciones realizadas",
      "description": "Permite obtener un reporte de todas las transacciones realizadas en un periodo de tiempo para el sitio usado"
    }
  ],
  "paths": {
    "/information": {
      "post": {
        "summary": "Solicitud de Información",
        "operationId": "post-rest-gateway-information",
        "description": "Este servicio proporciona información sobre la tarjeta del usuario que se va a procesar, tal como qué servicios son los que se usarán para ella y los tipos de crédito, si aplica, que hay para esta, si no hay tipos de crédito se retorna un arreglo vacío y si los hay, se debe iterar cada tipo de crédito con los installments que se encuentran en el arreglo.\n",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "action": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  },
                  "payment": {
                    "$ref": "#/components/schemas/Payment"
                  }
                }
              }
            }
          },
          "description": ""
        },
        "tags": [
          "Obtener información"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    },
                    "cardTypes": {
                      "type": "string"
                    },
                    "requiereOtp": {
                      "type": "boolean"
                    },
                    "requiereCvv2": {
                      "type": "boolean"
                    },
                    "threeDS": {
                      "type": "string"
                    },
                    "credits": {
                      "$ref": "#/components/schemas/Credit"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "parameters": []
    },
    "/process": {
      "post": {
        "summary": "Procesamiento de transacción",
        "operationId": "post-gateway-process",
        "description": "Este servicio permite que se realice el cobro a la tarjeta del usuario, los parámetros del instrument son variables, si no se pide tipo de crédito ni otp no es necesario enviar esas variables, payer es siempre requerido, buyer es opcional pero recomendado.",
        "tags": [
          "Procesamiento de transacción"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "action": {
                    "type": "string"
                  },
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "payment": {
                    "$ref": "#/components/schemas/Payment"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  },
                  "payer": {
                    "$ref": "#/components/schemas/Person"
                  },
                  "buyer": {
                    "$ref": "#/components/schemas/Person"
                  },
                  "ipAddress": {
                    "type": "string"
                  },
                  "userAgent": {
                    "type": "string"
                  },
                  "additional": {
                    "type": "object",
                    "description": "Objeto dinámico clave valor de información que se desee guardar con la transacción"
                  }
                }
              },
              "examples": {
                "simple": {
                  "value": {
                    "payer": {
                      "name": "Ms. Nelle Beahan DVM",
                      "surname": "Spencer",
                      "email": "gsteuber@kling.com",
                      "documentType": "CC",
                      "document": "3154383838",
                      "mobile": "3006108300"
                    },
                    "payment": {
                      "reference": "TEST_20210526_141005",
                      "description": "Cum vitae et consequatur quas adipisci ut rem.",
                      "amount": {
                        "currency": "COP",
                        "total": 32030
                      }
                    },
                    "instrument": {
                      "card": {
                        "number": "36545400000008",
                        "expiration": "12/20",
                        "cvv": "123",
                        "installments": 2
                      }
                    },
                    "ipAddress": "190.85.90.130",
                    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"
                  }
                },
                "full": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "cgqVhiaKSUSJmYQsXMsBqpfjz155nyKk54I66xyfuDI=",
                      "nonce": "NjBhZTllMjZjYmQxYg==",
                      "seed": "2021-05-26T14:14:46-05:00"
                    },
                    "locale": "es_CO",
                    "buyer": {
                      "name": "Ms. Nelle Beahan DVM",
                      "surname": "Spencer",
                      "email": "gsteuber@kling.com",
                      "documentType": "CC",
                      "document": "1040035000",
                      "mobile": "3006108300",
                      "address": {
                        "street": "Carrera 65 #45 20",
                        "city": "Estherborough",
                        "state": "Antioquia",
                        "postalCode": "48107",
                        "country": "CO",
                        "phone": "5695155708"
                      }
                    },
                    "payment": {
                      "reference": "TEST_20210526_141005",
                      "description": "Cum vitae et consequatur quas adipisci ut rem.",
                      "amount": {
                        "taxes": [
                          {
                            "kind": "ice",
                            "amount": 2.76
                          },
                          {
                            "kind": "valueAddedTax",
                            "amount": 4.37
                          }
                        ],
                        "details": [
                          {
                            "kind": "shipping",
                            "amount": 1.15
                          },
                          {
                            "kind": "tip",
                            "amount": 1.15
                          },
                          {
                            "kind": "subtotal",
                            "amount": 23
                          }
                        ],
                        "currency": "USD",
                        "total": 32.43
                      },
                      "recurring": {
                        "periodicity": "D",
                        "interval": 7,
                        "nextPayment": "2021-05-28",
                        "maxPeriods": 4,
                        "notificationUrl": "https://dnetix.co/ping/recurring_notification"
                      },
                      "shipping": {
                        "name": "Ms. Nelle Beahan DVM",
                        "surname": "Spencer",
                        "email": "gsteuber@kling.com",
                        "documentType": "CC",
                        "document": "3154383838",
                        "mobile": "3006108300",
                        "address": {
                          "street": "278 Megane Road Apt. 109",
                          "city": "Estherborough",
                          "state": "Antioquia",
                          "postalCode": "48107",
                          "country": "US",
                          "phone": "569-515-5708 x98389"
                        }
                      }
                    },
                    "instrument": {
                      "card": {
                        "number": "36545400000008",
                        "expiration": "12/20",
                        "cvv": "123",
                        "installments": 2
                      },
                      "credit": {
                        "code": "1",
                        "type": "02",
                        "groupCode": "P",
                        "installment": 24
                      }
                    },
                    "ipAddress": "190.85.82.130",
                    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36",
                    "additional": {
                      "some_key": "Value to be stored",
                      "another_key": "Another value to be stored"
                    }
                  }
                },
                "recurring": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "cgqVhiaKSUSJmYQsXMsBqpfjz155nyKk54I66xyfuDI=",
                      "nonce": "NjBhZTllMjZjYmQxYg==",
                      "seed": "2021-05-26T14:14:46-05:00"
                    },
                    "payer": {
                      "name": "Ms. Nelle Beahan DVM",
                      "surname": "Spencer",
                      "email": "gsteuber@kling.com",
                      "documentType": "CC",
                      "document": "1040035000",
                      "mobile": "3006108300"
                    },
                    "payment": {
                      "reference": "TEST_20210526_141005",
                      "description": "Cum vitae et consequatur quas adipisci ut rem.",
                      "amount": {
                        "currency": "USD",
                        "total": 32.43
                      },
                      "recurring": {
                        "periodicity": "D",
                        "interval": 7,
                        "nextPayment": "2021-05-28",
                        "maxPeriods": 4,
                        "notificationUrl": "https://dnetix.co/ping/recurring_notification"
                      }
                    },
                    "instrument": {
                      "card": {
                        "number": "36545400000008",
                        "expiration": "12/20",
                        "cvv": "123",
                        "installments": 2
                      }
                    },
                    "ipAddress": "190.85.82.130",
                    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36",
                    "additional": {
                      "some_key": "Value to be stored",
                      "another_key": "Another value to be stored"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    },
                    "internalReference": {
                      "type": "number"
                    },
                    "reference": {
                      "type": "string"
                    },
                    "paymentMethod": {
                      "type": "string"
                    },
                    "franchise": {
                      "type": "string"
                    },
                    "franchiseName": {
                      "type": "string"
                    },
                    "issuerName": {
                      "type": "string"
                    },
                    "amount": {
                      "$ref": "#/components/schemas/Amount"
                    },
                    "conversion": {
                      "$ref": "#/components/schemas/AmountConversion"
                    },
                    "authorization": {
                      "type": "string"
                    },
                    "receipt": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "refunded": {
                      "type": "string"
                    },
                    "lastDigits": {
                      "type": "string"
                    },
                    "additional": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "parameters": []
    },
    "/tokenize": {
      "post": {
        "summary": "Tokenización (tokenize)",
        "operationId": "post-gateway-tokenize",
        "description": "Este servicio permite almacenar tarjetas de crédito de manera segura, a través de una petición que contenga la información de la misma, se generará un token que puede ser usado en el servicio de procesamiento y para todos los efectos, en PlacetoPay equivale a una tarjeta de crédito, la diferencia es que se envía la estructura token en vez de card.\n\nPreviamente al consumo de este servicio se debe consultar el de información para saber si es necesario o no generar un OTP al cliente y en caso de ser necesario, solicitar el token a la persona y enviarlo en el consumo.\n",
        "tags": [
          "Tokenización de tarjetas"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "payer": {
                    "$ref": "#/components/schemas/Person"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  },
                  "payment": {
                    "$ref": "#/components/schemas/Payment"
                  },
                  "ipAddress": {
                    "type": "string"
                  },
                  "userAgent": {
                    "type": "string"
                  },
                  "": {
                    "type": "string"
                  }
                },
                "required": [
                  "instrument"
                ]
              },
              "examples": {
                "Simple": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "ytIEiMHa8W4V09lBjztshdczGcv4SvJh6VclvVa1/hI=",
                      "nonce": "NjBjYjc3YTYwZGZhYw==",
                      "seed": "2021-06-17T11:26:14-05:00"
                    },
                    "payer": {
                      "name": "Diego",
                      "surname": "Calle",
                      "email": "dnetix@yopmail.com"
                    },
                    "instrument": {
                      "card": {
                        "number": "5180300000000005",
                        "expiration": "12/18",
                        "cvv": "123",
                        "installments": 3
                      }
                    },
                    "ipAddress": "127.0.0.1",
                    "userAgent": "Testing"
                  }
                },
                "Con cobro": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "ytIEiMHa8W4V09lBjztshdczGcv4SvJh6VclvVa1/hI=",
                      "nonce": "NjBjYjc3YTYwZGZhYw==",
                      "seed": "2021-06-17T11:26:14-05:00"
                    },
                    "payer": {
                      "name": "Diego",
                      "surname": "Calle",
                      "email": "dnetix@yopmail.com"
                    },
                    "instrument": {
                      "card": {
                        "number": "5180300000000005",
                        "expiration": "12/18",
                        "cvv": "123",
                        "installments": 3
                      }
                    },
                    "payment": {
                      "reference": "TEST_PAYMENT_12345",
                      "amount": {
                        "currency": "COP",
                        "total": 100
                      }
                    },
                    "ipAddress": "127.0.0.1",
                    "userAgent": "Testing"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    },
                    "instrument": {
                      "$ref": "#/components/schemas/Instrument"
                    }
                  }
                },
                "examples": {
                  "Ok": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-06-17T11:29:37-05:00"
                      },
                      "provider": "CREDIBANCO",
                      "instrument": {
                        "token": {
                          "token": "ee1d56a192dc07e4e403cdaa2569407118a0e19dc185b1e63bad2b2edc2a3bf0",
                          "subtoken": "5172915969800005",
                          "franchise": "master",
                          "franchiseName": "Mastercard",
                          "lastDigits": "0005",
                          "validUntil": "2018-12-31"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "parameters": []
    },
    "/transaction": {
      "post": {
        "summary": "Operaciones sobre una transacción",
        "operationId": "post-gateway-transaction",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    },
                    "internalReference": {
                      "type": "number"
                    },
                    "reference": {
                      "type": "string"
                    },
                    "paymentMethod": {
                      "type": "string"
                    },
                    "franchise": {
                      "type": "string"
                    },
                    "franchiseName": {
                      "type": "string"
                    },
                    "issuerName": {
                      "type": "string"
                    },
                    "amount": {
                      "$ref": "#/components/schemas/Amount"
                    },
                    "conversion": {
                      "$ref": "#/components/schemas/AmountConversion"
                    },
                    "authorization": {
                      "type": "string",
                      "nullable": true
                    },
                    "receipt": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "refunded": {
                      "type": "string"
                    },
                    "lastDigits": {
                      "type": "string"
                    },
                    "additional": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "Ejemplo": {
                    "value": {
                      "status": {
                        "status": "APPROVED",
                        "reason": "00",
                        "message": "Aprobada",
                        "date": "2018-02-05T21:32:41-05:00"
                      },
                      "internalReference": 1449217015,
                      "reference": "TEST_20171108_144400",
                      "paymentMethod": "ID_DN",
                      "franchise": "diners",
                      "franchiseName": "Diners",
                      "issuerName": "Diners Club",
                      "amount": {
                        "taxes": [
                          {
                            "kind": "valueAddedTax",
                            "amount": 0,
                            "base": 0
                          },
                          {
                            "kind": "ice",
                            "amount": 0,
                            "base": 0
                          }
                        ],
                        "details": [
                          {
                            "kind": "shipping",
                            "amount": 0
                          },
                          {
                            "kind": "tip",
                            "amount": 0
                          }
                        ],
                        "currency": "COP",
                        "total": 159939.56
                      },
                      "conversion": {
                        "from": {
                          "currency": "COP",
                          "total": 159939.56
                        },
                        "to": {
                          "currency": "USD",
                          "total": 56.43
                        },
                        "factor": 0.00035282077804890796
                      },
                      "authorization": null,
                      "receipt": 1449217015,
                      "type": "CREDIT",
                      "refunded": false,
                      "lastDigits": "0008",
                      "provider": "INTERDIN",
                      "discount": null,
                      "processorFields": []
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Permite realizar un reverso, re-autorización, reembolso o cash out sobre una transacción existente",
        "tags": [
          "Acciones sobre transacciones"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "",
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "internalReference": {
                    "type": "number"
                  },
                  "authorization": {
                    "type": "string"
                  },
                  "action": {
                    "type": "string"
                  }
                }
              },
              "examples": {
                "Reverso": {
                  "value": {
                    "auth": {
                      "login": "6dd490faf9cb87a9862245da41170ff2",
                      "tranKey": "JUfKi8+W//kX43WZd8FcnNsdl7zkaeAQdmSOudWcVi0=",
                      "nonce": "MzgwYWYwMjc2ZWUzODA5YmI1MDQ1YmNjYzdlNzY1MTY=",
                      "seed": "2021-03-02T17:03:50+01:00"
                    },
                    "internalReference": 1505723583,
                    "authorization": "999999",
                    "action": "reverse"
                  }
                }
              }
            }
          },
          "description": ""
        }
      },
      "parameters": []
    },
    "/query": {
      "post": {
        "summary": "Consulta de transacción por referencia interna",
        "operationId": "post-rest-gateway-query",
        "description": "Permite consultar una transaccion.",
        "tags": [
          "Consulta de una transacción"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "internalReference": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    },
                    "internalReference": {
                      "type": "string"
                    },
                    "reference": {
                      "type": "string"
                    },
                    "paymentMethod": {
                      "type": "string"
                    },
                    "franchise": {
                      "type": "string"
                    },
                    "franchiseName": {
                      "type": "string"
                    },
                    "issuerName": {
                      "type": "string"
                    },
                    "amount": {
                      "$ref": "#/components/schemas/Amount"
                    },
                    "conversion": {
                      "$ref": "#/components/schemas/AmountConversion"
                    },
                    "authorization": {
                      "type": "string"
                    },
                    "receipt": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "refunded": {
                      "type": "string"
                    },
                    "lastDigits": {
                      "type": "string"
                    },
                    "additional": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "parameters": []
    },
    "/search": {
      "post": {
        "summary": "Búsqueda de transacciones",
        "operationId": "post-gateway-search",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string",
                          "minLength": 1
                        },
                        "reason": {
                          "type": "string",
                          "minLength": 1
                        },
                        "message": {
                          "type": "string",
                          "minLength": 1
                        },
                        "date": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "status",
                        "reason",
                        "message",
                        "date"
                      ]
                    },
                    "transactions": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "required": [
                          "date",
                          "transactionDate",
                          "internalReference",
                          "reference",
                          "paymentMethod",
                          "franchise",
                          "franchiseName",
                          "issuerName",
                          "authorization",
                          "receipt",
                          "type",
                          "refunded",
                          "lastDigits",
                          "provider"
                        ],
                        "properties": {
                          "status": {
                            "type": "object",
                            "properties": {
                              "status": {
                                "type": "string",
                                "minLength": 1
                              },
                              "reason": {
                                "type": "string",
                                "minLength": 1
                              },
                              "message": {
                                "type": "string",
                                "minLength": 1
                              },
                              "date": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "status",
                              "reason",
                              "message",
                              "date"
                            ]
                          },
                          "date": {
                            "type": "string",
                            "minLength": 1
                          },
                          "transactionDate": {
                            "type": "string",
                            "minLength": 1
                          },
                          "internalReference": {
                            "type": "number"
                          },
                          "reference": {
                            "type": "string",
                            "minLength": 1
                          },
                          "paymentMethod": {
                            "type": "string",
                            "minLength": 1
                          },
                          "franchise": {
                            "type": "string",
                            "minLength": 1
                          },
                          "franchiseName": {
                            "type": "string",
                            "minLength": 1
                          },
                          "issuerName": {
                            "type": "string",
                            "minLength": 1
                          },
                          "amount": {
                            "type": "object",
                            "properties": {
                              "taxes": {
                                "type": "array",
                                "uniqueItems": true,
                                "minItems": 1,
                                "items": {
                                  "required": [
                                    "kind",
                                    "amount",
                                    "base"
                                  ],
                                  "properties": {
                                    "kind": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "amount": {
                                      "type": "number"
                                    },
                                    "base": {
                                      "type": "number"
                                    }
                                  }
                                }
                              },
                              "details": {
                                "type": "array",
                                "uniqueItems": true,
                                "minItems": 1,
                                "items": {
                                  "required": [
                                    "kind"
                                  ],
                                  "properties": {
                                    "kind": {
                                      "type": "string",
                                      "minLength": 1
                                    }
                                  }
                                }
                              },
                              "currency": {
                                "type": "string",
                                "minLength": 1
                              },
                              "total": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "taxes",
                              "details",
                              "currency",
                              "total"
                            ]
                          },
                          "conversion": {
                            "type": "object",
                            "properties": {
                              "from": {
                                "type": "object",
                                "properties": {
                                  "currency": {
                                    "type": "string",
                                    "minLength": 1
                                  },
                                  "total": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                },
                                "required": [
                                  "currency",
                                  "total"
                                ]
                              },
                              "to": {
                                "type": "object",
                                "properties": {
                                  "currency": {
                                    "type": "string",
                                    "minLength": 1
                                  },
                                  "total": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                },
                                "required": [
                                  "currency",
                                  "total"
                                ]
                              },
                              "factor": {
                                "type": "number"
                              }
                            },
                            "required": [
                              "from",
                              "to",
                              "factor"
                            ]
                          },
                          "authorization": {
                            "type": "string",
                            "minLength": 1
                          },
                          "receipt": {
                            "type": "string",
                            "minLength": 1
                          },
                          "type": {
                            "type": "string",
                            "minLength": 1
                          },
                          "refunded": {
                            "type": "boolean"
                          },
                          "lastDigits": {
                            "type": "string",
                            "minLength": 1
                          },
                          "provider": {
                            "type": "string",
                            "minLength": 1
                          },
                          "discount": {},
                          "processorFields": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1
                              },
                              "b24": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "id",
                              "b24"
                            ]
                          },
                          "additional": {
                            "type": "object",
                            "properties": {
                              "merchantCode": {
                                "type": "string",
                                "minLength": 1
                              },
                              "terminalNumber": {
                                "type": "string",
                                "minLength": 1
                              },
                              "bin": {
                                "type": "string",
                                "minLength": 1
                              },
                              "expiration": {
                                "type": "string",
                                "minLength": 1
                              },
                              "installments": {
                                "type": "number"
                              }
                            },
                            "required": [
                              "merchantCode",
                              "terminalNumber",
                              "bin",
                              "expiration",
                              "installments"
                            ]
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "status",
                    "transactions"
                  ]
                },
                "examples": {
                  "Ejemplo": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-03-03T13:40:57-05:00"
                      },
                      "transactions": [
                        {
                          "status": {
                            "status": "APPROVED",
                            "reason": "00",
                            "message": "Aprobada",
                            "date": "2021-03-03T13:40:57-05:00"
                          },
                          "date": "2021-03-02T11:05:49-05:00",
                          "transactionDate": "2021-03-02T11:05:49-05:00",
                          "internalReference": 1505723583,
                          "reference": "TEST_20171108_144400",
                          "paymentMethod": "CR_VS",
                          "franchise": "visa",
                          "franchiseName": "Visa",
                          "issuerName": "JPMORGAN CHASE BANK, N.A.",
                          "amount": {
                            "taxes": [
                              {
                                "kind": "valueAddedTax",
                                "amount": 0,
                                "base": 0
                              }
                            ],
                            "details": [
                              {
                                "kind": "shipping"
                              },
                              {
                                "kind": "tip"
                              }
                            ],
                            "currency": "COP",
                            "total": "1000.00"
                          },
                          "conversion": {
                            "from": {
                              "currency": "COP",
                              "total": "1000.00"
                            },
                            "to": {
                              "currency": "COP",
                              "total": "1000.00"
                            },
                            "factor": 1
                          },
                          "authorization": "999999",
                          "receipt": "1605385146",
                          "type": "AUTH_ONLY",
                          "refunded": true,
                          "lastDigits": "****1111",
                          "provider": "CREDIBANCO",
                          "discount": null,
                          "processorFields": {
                            "id": "f31842fddf772930f8f80d697009b8c1",
                            "b24": "000"
                          },
                          "additional": {
                            "merchantCode": "011271442",
                            "terminalNumber": "00057742",
                            "bin": "411111",
                            "expiration": "1222",
                            "installments": 1
                          }
                        },
                        {
                          "status": {
                            "status": "APPROVED",
                            "reason": "00",
                            "message": "Aprobada",
                            "date": "2021-03-03T13:40:57-05:00"
                          },
                          "date": "2021-03-02T11:28:15-05:00",
                          "transactionDate": "2021-03-02T11:28:15-05:00",
                          "internalReference": 1505726109,
                          "reference": "TEST_20171108_144400",
                          "paymentMethod": "CR_VS",
                          "franchise": "visa",
                          "franchiseName": "Visa",
                          "issuerName": "JPMORGAN CHASE BANK, N.A.",
                          "amount": {
                            "taxes": [
                              {
                                "kind": "valueAddedTax",
                                "amount": 0,
                                "base": 0
                              }
                            ],
                            "details": [
                              {
                                "kind": "shipping"
                              },
                              {
                                "kind": "tip"
                              }
                            ],
                            "currency": "COP",
                            "total": "1000.00"
                          },
                          "conversion": {
                            "from": {
                              "currency": "COP",
                              "total": "1000.00"
                            },
                            "to": {
                              "currency": "COP",
                              "total": "1000.00"
                            },
                            "factor": 1
                          },
                          "authorization": "999999",
                          "receipt": null,
                          "type": "CREDIT",
                          "refunded": false,
                          "lastDigits": "****1111",
                          "provider": "CREDIBANCO",
                          "discount": null,
                          "processorFields": {
                            "id": "7d87dc5ee4f7fa408214a1a06982b97b",
                            "b24": "000"
                          },
                          "additional": {
                            "merchantCode": "011271442",
                            "terminalNumber": "00057742",
                            "bin": "411111",
                            "expiration": "1222",
                            "installments": 1
                          }
                        },
                        {
                          "status": {
                            "status": "APPROVED",
                            "reason": "00",
                            "message": "Aprobada",
                            "date": "2021-03-03T13:40:57-05:00"
                          },
                          "date": "2021-03-02T11:47:04-05:00",
                          "transactionDate": "2021-03-02T11:47:04-05:00",
                          "internalReference": 1505728229,
                          "reference": "TEST_20171108_144400",
                          "paymentMethod": "CR_VS",
                          "franchise": "visa",
                          "franchiseName": "Visa",
                          "issuerName": "JPMORGAN CHASE BANK, N.A.",
                          "amount": {
                            "taxes": [
                              {
                                "kind": "valueAddedTax",
                                "amount": 0,
                                "base": 0
                              }
                            ],
                            "details": [
                              {
                                "kind": "shipping"
                              },
                              {
                                "kind": "tip"
                              }
                            ],
                            "currency": "COP",
                            "total": "1000.00"
                          },
                          "conversion": {
                            "from": {
                              "currency": "COP",
                              "total": "1000.00"
                            },
                            "to": {
                              "currency": "COP",
                              "total": "1000.00"
                            },
                            "factor": 1
                          },
                          "authorization": "999999",
                          "receipt": "1020330770",
                          "type": "AUTH_ONLY",
                          "refunded": false,
                          "lastDigits": "****1111",
                          "provider": "CREDIBANCO",
                          "discount": null,
                          "processorFields": {
                            "id": "c3e5a278db727933e12796139cdbf506",
                            "b24": "000"
                          },
                          "additional": {
                            "merchantCode": "011271442",
                            "terminalNumber": "00057742",
                            "bin": "411111",
                            "expiration": "0222",
                            "installments": 1
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Consulta de una transacción"
        ],
        "description": "Este servicio permite la búsqueda de transacciones por referencia y monto, suele utilizarse en caso de pérdida de comunicación al crear una transacción para obtener la referencia interna nuevamente.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "",
                "type": "object",
                "properties": {
                  "auth": {
                    "type": "object",
                    "properties": {
                      "login": {
                        "type": "string",
                        "minLength": 1
                      },
                      "tranKey": {
                        "type": "string",
                        "minLength": 1
                      },
                      "nonce": {
                        "type": "string",
                        "minLength": 1
                      },
                      "seed": {
                        "type": "string",
                        "minLength": 1
                      }
                    },
                    "required": [
                      "login",
                      "tranKey",
                      "nonce",
                      "seed"
                    ]
                  },
                  "reference": {
                    "type": "string",
                    "minLength": 1
                  },
                  "amount": {
                    "type": "object",
                    "properties": {
                      "currency": {
                        "type": "string",
                        "minLength": 1
                      },
                      "total": {
                        "type": "number"
                      }
                    },
                    "required": [
                      "currency",
                      "total"
                    ]
                  }
                },
                "required": [
                  "auth",
                  "reference",
                  "amount"
                ]
              },
              "examples": {
                "Ejemplo": {
                  "value": {
                    "auth": {
                      "login": "6dd490faf9cb87a9862245da41170ff2",
                      "tranKey": "+FSGHsW3e6WrrHcIdBmqI+j6FFeUN4bidfPL7LeZgvE=",
                      "nonce": "N2YzMGM1M2QxOTU3YzZmMzVlYmIzZTAyOGMwNjNkMmU=",
                      "seed": "2021-03-03T19:40:37+01:00"
                    },
                    "reference": "TEST_20171108_144400",
                    "amount": {
                      "currency": "COP",
                      "total": 1000
                    }
                  }
                }
              }
            }
          },
          "description": ""
        }
      },
      "parameters": []
    },
    "/interests": {
      "post": {
        "summary": "Cálculo de Intereses (solo Ecuador)",
        "operationId": "post-rest-gateway-interests",
        "description": "Este servicio se debe consumir si la tarjeta requiere que se muestren los intereses\n(displayInterest en true) y como ejemplo de esta manera se muestran los valores en el servicio\nde redirección.\n",
        "tags": [
          "Obtener información"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  },
                  "payment": {
                    "$ref": "#/components/schemas/Payment"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    },
                    "values": {
                      "$ref": "#/components/schemas/InterestValues"
                    },
                    "conversion": {
                      "$ref": "#/components/schemas/AmountConversion"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "parameters": []
    },
    "/otp/generate": {
      "parameters": [],
      "post": {
        "summary": "Generación de OTP (solo Ecuador)",
        "operationId": "post-rest-otp-generate",
        "description": "Este servicio se consume si es necesario el otp para la tarjeta provista por el cliente (requireOtp\nen true) y debe permitirsele al usuario ingresar el OTP para enviarlo posteriormente en el\nservicio de procesamiento, a manera de ejemplo de esta manera se captura en la interfaz de\nredirección\n",
        "tags": [
          "Proceso OTP"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/otp/validate": {
      "post": {
        "summary": "Validación de OTP (solo Ecuador)",
        "operationId": "post-rest-otp-validate",
        "description": "Permite validar que el OTP provisto concuerde con el enviado por el proveedor, de ser así se\nretornará un valor “signature” que debe enviarse en la petición de procesamiento como “otp”\nesto con el fin de que se tome en cuenta a la hora de analizar la transacción por los filtros de\nseguridad\n",
        "tags": [
          "Proceso OTP"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  },
                  "payment": {
                    "$ref": "#/components/schemas/Payment"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    },
                    "signature": {
                      "type": "string"
                    },
                    "validated": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "parameters": []
    },
    "/report": {
      "parameters": [],
      "post": {
        "summary": "Solicitar un reporte",
        "operationId": "post-report",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "id": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "status",
                    "id"
                  ]
                },
                "examples": {
                  "example": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La solicitud se ha procesado exitosamente",
                        "date": "2020-01-18T18:00:00-05:00"
                      },
                      "id": 1231
                    }
                  },
                  "error": {
                    "value": {
                      "status": {
                        "status": "FAILED",
                        "reason": "BR",
                        "message": "El reporte solicitado supera los 10 días",
                        "date": "2020-01-18T18:00:00-05:00"
                      },
                      "id": 0
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Permite solicitar que se genere un reporte de transacciones y retorna un identificador para el proceso, el cúal una vez sea llamado el callback puede ser obtenido en el endpoint siguiente",
        "tags": [
          "Reporte de operaciones realizadas"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "",
                "type": "object",
                "properties": {
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "filters": {
                    "type": "object",
                    "required": [
                      "startDate",
                      "endDate"
                    ],
                    "properties": {
                      "startDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2021-01-10T18:01:27-05:00"
                      },
                      "endDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2021-01-12T18:01:27-05:00"
                      }
                    }
                  },
                  "callbackUrl": {
                    "type": "string",
                    "format": "uri"
                  }
                },
                "required": [
                  "auth",
                  "filters"
                ]
              },
              "examples": {
                "example-1": {
                  "value": {
                    "auth": {
                      "login": "string",
                      "tranKey": "string",
                      "nonce": "string",
                      "seed": "2019-08-24T14:15:22Z"
                    },
                    "filters": {
                      "startDate": "2021-01-10T18:01:27-05:00",
                      "endDate": "2019-08-24T14:15:22-05:00"
                    },
                    "compressionFormat": "zip",
                    "callbackUrl": "http://example.com"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/report/obtain": {
      "post": {
        "summary": "Obtener un reporte previamente solicitado",
        "operationId": "post-report-obtain",
        "responses": {
          "200": {
            "description": "OK\n\nUna vez se tiene el reporte retorna la información, el cúal es un archivo separado por comas con los siguientes encabezados\n\n```\nid\ndate\ntransaction_date\nreference\ncurrency_code\namount\ntax\npayment_method\ninternal_reference\nstatus\nreason\nmerchant\nterminal\nauthorization\nrefunded\ninstallments\nlast_digits\nbank_currency\nbank_factor\nbank_amount\nissuer_name\npayer_document\npayer_first_name\npayer_last_name\npayer_email\nip_address\nbatch_number\nline_number\n```",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                },
                "examples": {
                  "example": {
                    "value": "id,date,transaction_date,reference,currency_code,amount,tax,payment_method,internal_reference,status,reason,merchant,terminal,authorization,refunded,installments,last_digits,bank_currency,bank_factor,bank_amount,issuer_name,payer_document,payer_first_name,payer_last_name,payer_email,ip_address,batch_number,line_number\nc42977b5d4ff9d9613320c7ee98e9eb0,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,4113943,USD,2327,442.13,ID_VS,221,APPROVED,,000468232,00990101,,,1,0008,USD,1,2327,Testing Bank,32694548,Miss Joanne Fadel MD,Price,blangworth@hotmail.com,237.234.250.30,,\n315c9ca9e64bed46f24a2e18bdd76468,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,8122,USD,4457,846.83,ID_VS,222,APPROVED,,000468232,00990101,,,1,0008,USD,1,4457,Testing Bank,44056172,Charlotte Maggio,Steuber,drutherford@gmail.com,164.233.22.247,,\nfd239e99125c326e92137197fd5d1959,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,753446151,USD,3798,721.62,ID_VS,223,APPROVED,,000468232,00990101,,,1,0008,USD,1,3798,Testing Bank,51751981,Mr. Abdiel Schroeder DDS,McKenzie,leonard.beier@runte.com,250.136.231.200,,\nbe945b27ff13291409b929cc9cb15274,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,482657,USD,1401,266.19,ID_VS,224,APPROVED,,000468232,00990101,,,1,0008,USD,1,1401,Testing Bank,98958097,Dr. Mia Abshire,Douglas,antonia.blanda@wyman.com,32.1.213.30,,\n3aaa74df49cf3634276675c95e49f2af,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,77616851,USD,1921,364.99,ID_VS,225,APPROVED,,000468232,00990101,,,1,0008,USD,1,1921,Testing Bank,6211299,Dr. Marcelina Huel I,Considine,vlangworth@emard.biz,249.218.136.4,,\n6e89e692975bb117db78360c8ebf0a00,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,74141,USD,773,146.87,ID_VS,226,APPROVED,,000468232,00990101,,,1,0008,USD,1,773,Testing Bank,22736252,Melody Goodwin DDS,Gerlach,iblock@ohara.com,168.87.8.132,,\nb50e4e8cca851a578fa40917030397a3,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,828,USD,473,89.87,ID_VS,227,APPROVED,,000468232,00990101,,,1,0008,USD,1,473,Testing Bank,9397147,Freeman Kirlin,Aufderhar,drobel@kshlerin.com,21.185.38.170,,\nb66ffe1bff91a15986cba677bbaeaa7f,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,581122,USD,1767,335.73,ID_VS,228,APPROVED,,000468232,00990101,,,1,0008,USD,1,1767,Testing Bank,62818359,Mrs. Rosina Mann,Schaefer,ctremblay@gmail.com,15.8.188.238,,\n135afcb2f872cf55168461e7e874242a,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,3896507,USD,7,1.33,ID_VS,229,APPROVED,,000468232,00990101,,,1,0008,USD,1,7,Testing Bank,10597030,Kristy Purdy IV,Mills,clyde68@hotmail.com,148.232.85.97,,\n19868ea1110eca766186806ef0e38f71,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,68490,USD,4987,947.53,ID_VS,230,APPROVED,,000468232,00990101,,,1,0008,USD,1,4987,Testing Bank,32385057,Mr. Harley Howe,Rogahn,oreilly.onie@hotmail.com,87.121.113.190,,"
                  }
                }
              }
            }
          },
          "425": {
            "description": "Too Early\n\nCuando la petición se realiza antes de que se termine de generar el reporte",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    }
                  },
                  "required": [
                    "status"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "",
                "type": "object",
                "properties": {
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "id": {
                    "type": "number"
                  }
                },
                "required": [
                  "auth",
                  "id"
                ]
              }
            }
          },
          "description": ""
        },
        "description": "Permite obtener un reporte previamente generado",
        "tags": [
          "Reporte de operaciones realizadas"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "gzip"
              ]
            },
            "in": "header",
            "name": "accept-encoding",
            "description": "Allows to provide gzip as a compression format"
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "Autentication": {
        "title": "Autentication",
        "type": "object",
        "properties": {
          "login": {
            "type": "string"
          },
          "tranKey": {
            "type": "string"
          },
          "nonce": {
            "type": "string"
          },
          "seed": {
            "type": "string"
          }
        },
        "description": "Estructura que contiene la información de autenticación del sitio generada de acuerdo al WSSE\nUsernameToken Profile 1.1"
      },
      "Instrument": {
        "title": "Instrument",
        "type": "object",
        "description": "Estructura que contiene la información acerca del medio de pago a usar en una transacción, esta estructura\nes variable de acuerdo a la solicitud que se genere, cada servicio requiere que se usen unos u otros datos.",
        "properties": {
          "card": {
            "$ref": "#/components/schemas/Card"
          },
          "token": {
            "$ref": "#/components/schemas/Token"
          },
          "credit": {
            "$ref": "#/components/schemas/Credit"
          },
          "otp": {
            "type": "string"
          }
        }
      },
      "Card": {
        "title": "Card",
        "type": "object",
        "description": "Estructura que contiene la información de la tarjeta.",
        "properties": {
          "number": {
            "type": "string"
          },
          "expiration": {
            "type": "string",
            "example": "12/22",
            "pattern": "^[01]\\d\\/\\d{2}$"
          },
          "cvv": {
            "type": "string"
          },
          "installments": {
            "type": "number"
          }
        }
      },
      "Token": {
        "title": "Token",
        "type": "object",
        "description": "Estructura que contiene la información del token que asocia a la tarjeta\n",
        "properties": {
          "token": {
            "type": "string"
          },
          "subtoken": {
            "type": "string"
          },
          "franchise": {
            "type": "string"
          },
          "franchiseName": {
            "type": "string"
          },
          "issuerName": {
            "type": "string"
          },
          "lastDigits": {
            "type": "string"
          },
          "validUntil": {
            "type": "string"
          }
        }
      },
      "Credit": {
        "title": "Credit",
        "type": "object",
        "description": "Estructura que contiene la información del tipo de crédito\n",
        "properties": {
          "code": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "groupCode": {
            "type": "string"
          },
          "installment": {
            "type": "integer"
          }
        }
      },
      "Payment": {
        "title": "Payment",
        "type": "object",
        "description": "Estructura que contiene la información acerca del pago de la transacción requerida al servicio web\n",
        "properties": {
          "reference": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "amount": {
            "$ref": "#/components/schemas/Amount"
          },
          "Dispersion": {
            "$ref": "#/components/schemas/Dispersion"
          }
        }
      },
      "Amount": {
        "title": "Amount",
        "type": "object",
        "description": "Estructura que contiene la información acerca del pago de la transacción requerida al servicio web\n",
        "properties": {
          "currency": {
            "type": "string",
            "enum": [
              "USD",
              "COP",
              "CRC",
              "EUR",
              "CAD",
              "AUD",
              "GBP",
              "MXN"
            ],
            "example": "COP",
            "pattern": "^[A-Z]{3}$",
            "minLength": 3,
            "maxLength": 3
          },
          "total": {
            "type": "number"
          },
          "taxes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TaxDetail"
            }
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AmountDetail"
            }
          }
        }
      },
      "TaxDetail": {
        "title": "TaxDetail",
        "type": "object",
        "description": "Estructura para almacenar información sobre un impuesto.",
        "properties": {
          "kind": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "base": {
            "type": "number"
          }
        }
      },
      "AmountDetail": {
        "title": "AmountDetail",
        "type": "object",
        "description": "Estructura para almacenar información sobre un valor adicional.\n",
        "properties": {
          "kind": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          }
        }
      },
      "Dispersion": {
        "title": "Dispersion",
        "type": "object",
        "description": "Estructura que contiene la información requerida para un pago de dispersión\n",
        "properties": {
          "agreement": {
            "type": "integer"
          },
          "agreementType": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          }
        }
      },
      "Status": {
        "title": "Status",
        "type": "object",
        "properties": {
          "status": {
            "type": "string"
          },
          "reason": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "date": {
            "type": "string"
          }
        },
        "description": "Estructura que contiene la información sobre una solicitud o pago, informa al estado actual de la misma.\n"
      },
      "InterestValues": {
        "title": "InterestValues",
        "type": "object",
        "description": "Estructura que contiene la información del cálculo de intereses para un tipo de crédito y monto\n",
        "properties": {
          "original": {
            "type": "number"
          },
          "installment": {
            "type": "number"
          },
          "interest": {
            "type": "number"
          },
          "total": {
            "type": "number"
          }
        }
      },
      "AmountConversion": {
        "title": "AmountConversion",
        "type": "object",
        "description": "Estructura para definir el factor de conversión y los valores.\n",
        "properties": {
          "from": {
            "$ref": "#/components/schemas/AmountBase"
          },
          "to": {
            "$ref": "#/components/schemas/AmountBase"
          },
          "factor": {
            "type": "number"
          }
        }
      },
      "AmountBase": {
        "title": "AmountBase",
        "type": "object",
        "description": "Estructura que representa una cantidad que define la moneda y el total.\n",
        "properties": {
          "currency": {
            "type": "string"
          },
          "total": {
            "type": "number"
          }
        }
      },
      "Person": {
        "title": "Person",
        "type": "object",
        "description": "Estructura que refleja la información de una persona involucrada en una transacción.\n",
        "properties": {
          "documentType": {
            "type": "string"
          },
          "Document": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "surname": {
            "type": "string"
          },
          "company": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "address": {
            "$ref": "#/components/schemas/Address"
          },
          "mobile": {
            "type": "string"
          }
        }
      },
      "Address": {
        "title": "Address",
        "type": "object",
        "description": "Estructura que contiene la información sobre una dirección física\n",
        "properties": {
          "street": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "state": {
            "type": "string"
          },
          "postalCode": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "phone": {
            "type": "string"
          }
        }
      }
    },
    "securitySchemes": {},
    "responses": {}
  }
}